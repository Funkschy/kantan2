def next_pow_of_2(n: i64): i64 {
    if n == 0 {
        return 0;
    }

    let n = n - 1;

    n |= n >> 1;
    n |= n >> 2;
    n |= n >> 4;
    n |= n >> 8;
    n |= n >> 16;
    n |= n >> 32;

    return n + 1;
}
